% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mount.R
\name{mount}
\alias{mount}
\alias{unmount}
\title{Mount an Emscripten filesystem object}
\usage{
mount(mountpoint, source, type = "workerfs")

unmount(mountpoint)
}
\arguments{
\item{mountpoint}{a character string giving the path to a directory to mount
onto in the Emscripten virtual filesystem.}

\item{source}{a character string giving the location of the data source to be
mounted.}

\item{type}{a character string giving the type of Emscripten filesystem to be
mounted: "workerfs", "nodefs", "drivefs", or "idbfs".}
}
\description{
Uses the Emscripten filesystem API to mount a filesystem object onto a given
directory in the virtual filesystem. The mountpoint will be created if it
does not already exist.

When mounting an Emscripten "workerfs" type filesystem the \code{source} should be
the URL or path to a filesystem image, as produced by Emscripten's
\code{file_packager} tool or as the result of appending filesystem metadata to an
\code{.tar} archive using \code{\link[rwasm:add_tar_index]{rwasm::add_tar_index()}}. The filesystem image may be
gzip compressed, indicated by the property \code{gzip: true} in the associated
filesystem metadata. The filesystem metadata and contents will be loaded and
mounted onto the directory \code{mountpoint}.

When mounting an Emscripten "nodefs" type filesystem, the \code{source} should be
the path to a physical directory on the host filesystem. The host directory
will be mapped into the virtual filesystem and mounted onto the directory
\code{mountpoint}. This filesystem type can only be used when webR is running
under Node.

When mounting a Jupyterlite "drivefs" type filesystem, the \code{source} should be
the drive name to mount. The default value for \code{source} is the empty string,
which is the initial drive name used by Jupyterlite. This filesystem type can
only be used when webR is running in a Jupyterlite notebook session.

When mounting an Emscripten "idbfs" type filesystem, files will be persisted
to or populated from a browser-based IndexedDB database whenever the
JavaScript function \code{Module.FS.syncfs} is invoked. See the Emscripten \code{IDBFS}
documentation for more information. This filesystem type can only be used
when webR is running in a web browser and using the \code{PostMessage}
communication channel.
}
